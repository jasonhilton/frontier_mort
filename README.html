<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="readme">README</h1>
<h1 id="modelling-frontier-mortality-using-bayesian-generalised-additive-models">Modelling Frontier Mortality using Bayesian Generalised Additive Models</h1>
<p>This repository contains the code need to reproduce the results in the paper “Modelling Frontier Mortality using Bayesian Generalised Additive Models”.</p>
<h1 id="requirements">Requirements</h1>
<p>Running the code requires a recent version of <code>R</code> (&gt;3.5 is probably best) and of <code>rstan</code>, the <code>R</code> interface to stan (<a href="https://github.com/stan-dev/rstan/wiki/RStan-Getting-Started">see here</a>).</p>
<p>Although it is not strictly necessary, a High Performance Computing platform was used to minimise runtime. The portable batch system (PBS) scripts needed to conduct the runs on this platform are included, and it should be possible to run these on similar systems with minimal adaptation.</p>
<p>Processing the results is memory intensive. The systems used have a minimum of 16gb of RAM. The scripts may run on systems with less RAM, but this is untested. It is possible the process may hang as the available ram is exhausted and swap space begins to be used. If you wish to replicate the result but do not have access to a system with enough RAM, let me know - I may be able to optimise the code to be less memory intensive.</p>
<p>To produce the final manuscript, Rmarkdown, knitr, latex and pandoc are used.</p>
<h2 id="storage">Storage</h2>
<p>The complete set of MCMC results take up less than 1GB.</p>
<hr />
<h1 id="reproducing-the-results">Reproducing the results.</h1>
<p>The results presented in the paper can be reproduced by following the steps below. All code chucks in this document should be run from the terminal from the base directory of this repository (that is, the one that contains this file).</p>
<h2 id="installing-r-packages">Installing R packages</h2>
<ul>
<li>The first step is to install a number of R packages. The command below does so programmatically, and can be run from the command line.</li>
</ul>
<!-- end list -->

<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="ex">Rscript</span> install_packages.R</a></code></pre></div>
<h2 id="getting-the-data">Getting the data</h2>
<p>UK mortality data from the human mortality database is required. This data can also be obtained using an script. Running this script will create a <code>data</code> subfolder within this repository and download files from the <a href="http://www.mortality.org/">Human Mortality Database</a> (HMD) to it. However, an account and password is needed to access this data. For this script to work, you need to set environment variables containing your username and password. You can do this by adding the following lines to your <code>.Renviron.site</code> file (create one if you do not already have one), which will be in the directory specified by running the command <code>R.home()</code> in the R console, in the <code>etc</code> sub-folder.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="va">HFD_user=</span>user</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="va">HFD_pass=</span>pass</a></code></pre></div>
<p>The ‘user’ and ‘pass’ text after the equals signs should be replaced with your account username and password. Then, run the command below from the command line to download the data.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="ex">Rscript</span> download_mortality_data.R</a></code></pre></div>
<p>This script uses the third-party <code>HMDHFDplus</code> package to obtain the data. Please ensure you use a unique password for HMD and don’t reuse one from something else, and take appropriate precautions with your credential information. I am not a security expert, and I cannot guarantee the security of these credentials.</p>
<h2 id="running-the-model">Running the model</h2>
<p>The script <code>scripts/run_model.R</code> produces samples for a single model. Exactly what data and which model is used is determined by the configuration file you specify. These are located in the <code>config</code> folder, while the models themselves are located in the <code>stan</code> folder. To run the models required the results presented in the paper, the following commands are needed.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="ex">Rscript</span> run_model.R linear</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="ex">Rscript</span> run_model.R quadratic</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="ex">Rscript</span> run_model.R independent</a></code></pre></div>
<p>You should allow two days for each model to reach the required 8000 samples per chain. Outputs are saved to the <code>results</code> directory, in subfolders named according to the date and time the models were run.</p>
<h2 id="running-with-portable-batch-system">Running with Portable Batch System</h2>
<p>If you wish to run the model on a cluster (assuming you have one available), the following commands will submit jobs using PBS.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" data-line-number="1"></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="ex">qsub</span> PBS/run_stan.pbs -v config=linear</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="ex">qsub</span> PBS/run_stan.pbs -v config=quadratic</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="ex">qsub</span> PBS/run_stan.pbs -v config=independent</a></code></pre></div>
<p>This is convenient, because you can run all three models at the same time (if you have enough nodes available), and you avoid tying up your own machine for the duration!</p>
<h2 id="assessment">Assessment</h2>
<p>To assess the forecast root-mean-squared error and coverage of each mode, another script must be run. The argument to this script should be the name of the folder where the results for the model to be assessed are saved. This folder will have been created by the script run in the previous step, and will have a <code>date_time</code> type format:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" data-line-number="1"></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="ex">Rscript</span> scripts/run_assess.R YYYYMMDD_HHMMSS</a></code></pre></div>
<p>Again, this can be run on a cluster if necessary:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" data-line-number="1"></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="ex">qsub</span> PBS/run_assess.pbs -v run_stamp=YYYYMMDD_HHMMSS</a></code></pre></div>
<p>This script will save the assessment outputs in the same folder as the original stan model output.</p>
<h2 id="compile-the-paper">Compile the paper</h2>
<p>To produce the <code>tex</code> files needed to produce the manuscript, the below commands run knitr and pandoc to process the R markdown files <code>mort_pacer.Rmd</code> and <code>appendix.Rmd</code>. However, you need to specify the folders where the relevant results are located by editing the two <code>process_</code> scripts to include the relevant timestamps corresponding to the linear, quadratic and independent models. These are included as <code>params</code> to the <code>rmarkdown::render</code> call.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" data-line-number="1"></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="ex">Rscript</span> scripts/process_rmd.R</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="ex">Rscript</span> scripts/process_appendix.R</a></code></pre></div>
<h2 id="r-session-information">R session information</h2>
<h3 id="local-machine">Local Machine</h3>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">library</span>(tibble)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="kw">library</span>(magrittr)</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="kw">library</span>(tidyr)</a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="kw">library</span>(purrr)</a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="kw">library</span>(lazyeval)</a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="kw">library</span>(tidyselect)</a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="kw">library</span>(rstan)</a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="kw">library</span>(yaml)</a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="kw">library</span>(here)</a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="kw">library</span>(git2r)</a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="kw">library</span>(HMDHFDplus)</a>
<a class="sourceLine" id="cb9-12" data-line-number="12"><span class="kw">library</span>(curl)</a>
<a class="sourceLine" id="cb9-13" data-line-number="13"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb9-14" data-line-number="14"><span class="kw">library</span>(ggfan)</a>
<a class="sourceLine" id="cb9-15" data-line-number="15"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb9-16" data-line-number="16"><span class="kw">library</span>(devtools)</a>
<a class="sourceLine" id="cb9-17" data-line-number="17">devtools<span class="op">::</span><span class="kw">session_info</span>()</a></code></pre></div>
<pre><code>## ─ Session info ──────────────────────────────────────────────────────────
##  setting  value                       
##  version  R version 3.6.1 (2019-07-05)
##  os       Ubuntu 18.04.3 LTS          
##  system   x86_64, linux-gnu           
##  ui       RStudio                     
##  language en_GB:en                    
##  collate  en_GB.UTF-8                 
##  ctype    en_GB.UTF-8                 
##  tz       Europe/London               
##  date     2019-10-15                  
## 
## ─ Packages ──────────────────────────────────────────────────────────────
##  package     * version   date       lib source        
##  assertthat    0.2.1     2019-03-21 [1] CRAN (R 3.6.0)
##  backports     1.1.4     2019-04-10 [1] CRAN (R 3.6.0)
##  bitops        1.0-6     2013-08-17 [1] CRAN (R 3.6.0)
##  bookdown      0.13      2019-08-21 [1] CRAN (R 3.6.1)
##  callr         3.3.1     2019-07-18 [1] CRAN (R 3.6.1)
##  cli           1.1.0     2019-03-19 [1] CRAN (R 3.6.0)
##  colorspace    1.4-1     2019-03-18 [1] CRAN (R 3.6.0)
##  crayon        1.3.4     2017-09-16 [1] CRAN (R 3.6.0)
##  curl        * 4.2       2019-09-24 [1] CRAN (R 3.6.1)
##  desc          1.2.0     2018-05-01 [1] CRAN (R 3.6.0)
##  devtools    * 2.2.1     2019-09-24 [1] CRAN (R 3.6.1)
##  digest        0.6.21    2019-09-20 [1] CRAN (R 3.6.1)
##  dplyr       * 0.8.3     2019-07-04 [1] CRAN (R 3.6.1)
##  ellipsis      0.3.0     2019-09-20 [1] CRAN (R 3.6.1)
##  evaluate      0.14      2019-05-28 [1] CRAN (R 3.6.1)
##  fs            1.3.1     2019-05-06 [1] CRAN (R 3.6.0)
##  ggfan       * 0.1.3     2019-03-07 [1] CRAN (R 3.6.1)
##  ggplot2     * 3.2.1     2019-08-10 [1] CRAN (R 3.6.1)
##  git2r       * 0.26.1    2019-06-29 [1] CRAN (R 3.6.1)
##  glue          1.3.1     2019-03-12 [1] CRAN (R 3.6.0)
##  gridExtra     2.3       2017-09-09 [1] CRAN (R 3.6.0)
##  gtable        0.3.0     2019-03-25 [1] CRAN (R 3.6.0)
##  here        * 0.1       2017-05-28 [1] CRAN (R 3.6.1)
##  HMDHFDplus  * 1.9.1     2018-08-09 [1] CRAN (R 3.6.1)
##  htmltools     0.4.0     2019-10-04 [1] CRAN (R 3.6.1)
##  httr          1.4.1     2019-08-05 [1] CRAN (R 3.6.1)
##  inline        0.3.15    2018-05-18 [1] CRAN (R 3.6.0)
##  knitr         1.25      2019-09-18 [1] CRAN (R 3.6.1)
##  labeling      0.3       2014-08-23 [1] CRAN (R 3.6.0)
##  lazyeval    * 0.2.2     2019-03-15 [1] CRAN (R 3.6.1)
##  lifecycle     0.1.0     2019-08-01 [1] CRAN (R 3.6.1)
##  loo           2.1.0     2019-03-13 [1] CRAN (R 3.6.0)
##  magrittr    * 1.5       2014-11-22 [1] CRAN (R 3.6.1)
##  matrixStats   0.54.0    2018-07-23 [1] CRAN (R 3.6.0)
##  memoise       1.1.0     2017-04-21 [1] CRAN (R 3.6.0)
##  munsell       0.5.0     2018-06-12 [1] CRAN (R 3.6.0)
##  packrat       0.5.0     2018-11-14 [1] CRAN (R 3.6.0)
##  pillar        1.4.2     2019-06-29 [1] CRAN (R 3.6.1)
##  pkgbuild      1.0.5     2019-08-26 [1] CRAN (R 3.6.1)
##  pkgconfig     2.0.2     2018-08-16 [1] CRAN (R 3.6.0)
##  pkgload       1.0.2     2018-10-29 [1] CRAN (R 3.6.0)
##  prettyunits   1.0.2     2015-07-13 [1] CRAN (R 3.6.0)
##  processx      3.4.1     2019-07-18 [1] CRAN (R 3.6.1)
##  ps            1.3.0     2018-12-21 [1] CRAN (R 3.6.0)
##  purrr       * 0.3.2     2019-03-15 [1] CRAN (R 3.6.1)
##  R6            2.4.0     2019-02-14 [1] CRAN (R 3.6.0)
##  Rcpp          1.0.2     2019-07-25 [1] CRAN (R 3.6.1)
##  RCurl         1.95-4.12 2019-03-04 [1] CRAN (R 3.6.0)
##  remotes       2.1.0     2019-06-24 [1] CRAN (R 3.6.1)
##  rlang         0.4.0     2019-06-25 [1] CRAN (R 3.6.1)
##  rmarkdown     1.15      2019-08-21 [1] CRAN (R 3.6.1)
##  rprojroot     1.3-2     2018-01-03 [1] CRAN (R 3.6.0)
##  rstan       * 2.19.2    2019-07-09 [1] CRAN (R 3.6.1)
##  rstudioapi    0.10      2019-03-19 [1] CRAN (R 3.6.0)
##  scales        1.0.0     2018-08-09 [1] CRAN (R 3.6.0)
##  sessioninfo   1.1.1     2018-11-05 [1] CRAN (R 3.6.0)
##  StanHeaders * 2.18.1-10 2019-06-14 [1] CRAN (R 3.6.1)
##  stringi       1.4.3     2019-03-12 [1] CRAN (R 3.6.0)
##  stringr       1.4.0     2019-02-10 [1] CRAN (R 3.6.0)
##  testthat      2.2.1     2019-07-25 [1] CRAN (R 3.6.1)
##  tibble      * 2.1.3     2019-06-06 [1] CRAN (R 3.6.1)
##  tidyr       * 1.0.0     2019-09-11 [1] CRAN (R 3.6.1)
##  tidyselect  * 0.2.5     2018-10-11 [1] CRAN (R 3.6.1)
##  usethis     * 1.5.1     2019-07-04 [1] CRAN (R 3.6.1)
##  vctrs         0.2.0     2019-07-05 [1] CRAN (R 3.6.1)
##  withr         2.1.2     2018-03-15 [1] CRAN (R 3.6.0)
##  xfun          0.10      2019-10-01 [1] CRAN (R 3.6.1)
##  XML           3.98-1.20 2019-06-06 [1] CRAN (R 3.6.1)
##  yaml        * 2.2.0     2018-07-25 [1] CRAN (R 3.6.1)
##  zeallot       0.1.0     2018-01-28 [1] CRAN (R 3.6.0)
## 
## [1] /home/jason/R/x86_64-pc-linux-gnu-library/3.6
## [2] /usr/local/lib/R/site-library
## [3] /usr/lib/R/site-library
## [4] /usr/lib/R/library
</code></pre>
<hr />
<h3 id="cluster-session-details">Cluster Session Details</h3>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">print</span>(<span class="kw">readRDS</span>(<span class="kw">file.path</span>(<span class="st">&quot;results&quot;</span>, <span class="st">&quot;hpc_sesh.Rds&quot;</span>)))</a></code></pre></div>
<pre><code>## R version 3.5.1 (2018-07-02)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Red Hat Enterprise Linux Server release 6.10 (Santiago)
## 
## Matrix products: default
## BLAS:   /home/local/software/R/3.5.1/lib64/R/lib/libRblas.so
## LAPACK: /home/local/software/R/3.5.1/lib64/R/lib/libRlapack.so
## 
## Random number generation:
##  RNG:     
##  Normal:  
##  Sample:  
##  
## locale:
## [1] C
## 
## attached base packages:
## [1] splines   stats     graphics  grDevices utils     datasets  methods  
## [8] base     
## 
## other attached packages:
##  [1] rstan_2.19.2          ggplot2_3.2.1         StanHeaders_2.18.1-10
##  [4] git2r_0.26.1          yaml_2.2.0            stringr_1.4.0        
##  [7] stringi_1.4.3         readr_1.3.1           tibble_2.1.3         
## [10] tidyr_0.8.3           dplyr_0.8.3           purrr_0.3.2          
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_1.0.2         pillar_1.4.2       compiler_3.5.1    
##  [4] prettyunits_1.0.2  tools_3.5.1        zeallot_0.1.0     
##  [7] pkgbuild_1.0.5     gtable_0.3.0       pkgconfig_2.0.2   
## [10] rlang_0.4.0        cli_1.1.0          parallel_3.5.1    
## [13] loo_2.1.0          gridExtra_2.3      withr_2.1.2       
## [16] vctrs_0.2.0        hms_0.5.1          stats4_3.5.1      
## [19] grid_3.5.1         tidyselect_0.2.5   glue_1.3.1        
## [22] inline_0.3.15      R6_2.4.0           processx_3.4.1    
## [25] callr_3.3.1        magrittr_1.5       matrixStats_0.54.0
## [28] backports_1.1.4    scales_1.0.0       ps_1.3.0          
## [31] assertthat_0.2.1   colorspace_1.4-1   lazyeval_0.2.2    
## [34] munsell_0.5.0      crayon_1.3.4
</code></pre>

</body>
</html>
